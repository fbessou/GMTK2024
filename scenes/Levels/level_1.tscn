[gd_scene load_steps=31 format=3 uid="uid://cu585kiq766m0"]

[ext_resource type="PackedScene" uid="uid://5w3u43821a5" path="res://scenes/props/SeaweedLeaves.tscn" id="4_44jrw"]
[ext_resource type="Texture2D" uid="uid://birpdwq3i2i3r" path="res://assets/textures/props/seaweed/varech/frame0000.png" id="5_35qt7"]
[ext_resource type="Texture2D" uid="uid://cx52ra38h43wf" path="res://assets/textures/props/seaweed/varech/frame0001.png" id="6_s4tiy"]
[ext_resource type="Texture2D" uid="uid://dgvdxphki1cs8" path="res://assets/textures/environment/level1/3-background.svg" id="8_cuxfu"]
[ext_resource type="PackedScene" uid="uid://chevwwev43q6b" path="res://scenes/Levels/blocks/largeC.tscn" id="8_khk7t"]
[ext_resource type="PackedScene" uid="uid://dbles67txj7e0" path="res://scenes/Levels/blocks/mediumA.tscn" id="9_mua36"]
[ext_resource type="PackedScene" uid="uid://c2to2hb2q2wvb" path="res://scenes/Levels/blocks/curveA.tscn" id="10_ycddo"]
[ext_resource type="Texture2D" uid="uid://mlwwit4s7j2j" path="res://assets/textures/environment/level1/2-midground.svg" id="10_ypg8p"]
[ext_resource type="PackedScene" uid="uid://bnjnf3jijmc4q" path="res://scenes/Levels/blocks/smallA.tscn" id="11_km3yp"]
[ext_resource type="PackedScene" uid="uid://ucctann5vnfg" path="res://scenes/Levels/blocks/smallB.tscn" id="12_ah3xm"]
[ext_resource type="Texture2D" uid="uid://c3i7ffs6568mt" path="res://assets/textures/environment/level1/0-foreground.svg" id="12_wggoc"]
[ext_resource type="PackedScene" uid="uid://c7xh68riw0kf8" path="res://scenes/Levels/blocks/mediumB.tscn" id="13_vbqx5"]
[ext_resource type="PackedScene" uid="uid://bitk4x3pdmgjb" path="res://scenes/Levels/blocks/largeA.tscn" id="14_ucd0q"]
[ext_resource type="PackedScene" uid="uid://cw5cd8mpbft6b" path="res://scenes/Levels/blocks/largeB.tscn" id="15_536sj"]
[ext_resource type="PackedScene" uid="uid://cpuc7ktc5wwsv" path="res://scenes/Levels/blocks/spireA.tscn" id="16_50ag4"]
[ext_resource type="PackedScene" uid="uid://biasnyddsqpv1" path="res://scenes/Levels/blocks/spireB.tscn" id="17_1t5df"]
[ext_resource type="Script" path="res://scripts/extra/opening.gd" id="17_shtic"]
[ext_resource type="Shader" path="res://resources/shaders/rune.gdshader" id="18_uattf"]
[ext_resource type="Texture2D" uid="uid://cabga2hoti2hn" path="res://assets/textures/runes/rune.svg" id="19_ahhh6"]
[ext_resource type="PackedScene" uid="uid://peng5fbet5c1" path="res://scenes/fishes/plankton.tscn" id="20_2o6hp"]

[sub_resource type="Gradient" id="Gradient_hyjtd"]
interpolation_mode = 1
offsets = PackedFloat32Array(0)
colors = PackedColorArray(0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_i4a12"]
gradient = SubResource("Gradient_hyjtd")
width = 4
height = 4

[sub_resource type="Curve2D" id="Curve2D_5docd"]
resource_name = "PlanktonCurve"
_data = {
"points": PackedVector2Array(-90.3112, -95.9227, 90.3112, 95.9227, 361, 339, -25.4846, -4.95534, 25.4846, 4.95534, 480, 461, 0, 0, 0, 0, 552, 471, 17.2257, 16.7538, -17.2257, -16.7538, 566, 457, -6.55509, -11.2373, 6.55509, 11.2373, 515, 470, 0, 0, 0, 0, 542, 484)
}
point_count = 6

[sub_resource type="Animation" id="Animation_nk5pk"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RunePath/RunePathFollow:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PlanktonPath/PlanktonPathFollow:progress_ratio")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Camera2D:zoom")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(),
"transitions": PackedFloat32Array(),
"values": []
}

[sub_resource type="Animation" id="Animation_qcv60"]
resource_name = "opening"
length = 30.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RunePath/RunePathFollow:progress_ratio")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(2, 15.1667),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PlanktonPath/PlanktonPathFollow:progress_ratio")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(15.2, 20.0333),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [0.0, 1.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Camera2D:zoom")
tracks/2/interp = 0
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0.133333, 10.4333),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(3, 3)]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(15.2, 20.2667),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"elect_plankton"
}, {
"args": [],
"method": &"contaminate"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_o0wly"]
_data = {
"RESET": SubResource("Animation_nk5pk"),
"opening": SubResource("Animation_qcv60")
}

[sub_resource type="Curve2D" id="Curve2D_glsyj"]
resource_name = "RuneCurve"
_data = {
"points": PackedVector2Array(23.811, -57.1464, -23.811, 57.1464, -5, -214, 33.3641, -184.166, -33.3641, 184.166, 16, -51, 6.52279, -65.7774, -6.52279, 65.7774, 10, 148, 7.11896, -53.021, -7.11896, 53.021, 27, 256, -6.56449, -16.5261, 6.56449, 16.5261, 45, 367)
}
point_count = 5

[sub_resource type="ShaderMaterial" id="ShaderMaterial_1dnan"]
shader = ExtResource("18_uattf")
shader_parameter/power = 1.0

[sub_resource type="Gradient" id="Gradient_3wyr7"]
resource_name = "RuneLightGradient"
interpolation_mode = 2
offsets = PackedFloat32Array(0.0337838, 0.283784, 1)
colors = PackedColorArray(1, 0.848331, 0.803675, 1, 0.2484, 0.2484, 0.2484, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_hb72l"]
gradient = SubResource("Gradient_3wyr7")
width = 200
height = 200
fill = 1
fill_from = Vector2(0.5, 0.5)
fill_to = Vector2(1, 0.518868)

[node name="Level1" type="Node2D"]

[node name="Parallax" type="Node2D" parent="."]

[node name="Background" type="Parallax2D" parent="Parallax"]
scroll_scale = Vector2(0.1, 0.1)
scroll_offset = Vector2(-210, -144)
repeat_size = Vector2(1920, 1080)
repeat_times = 2

[node name="Sprite2D" type="Sprite2D" parent="Parallax/Background"]
z_index = -1000
z_as_relative = false
texture = ExtResource("8_cuxfu")

[node name="Midground" type="Parallax2D" parent="Parallax"]
scroll_scale = Vector2(0.5, 0.5)

[node name="Sprite2D" type="Sprite2D" parent="Parallax/Midground"]
z_index = -900
z_as_relative = false
scale = Vector2(1.2, 1.2)
texture = ExtResource("10_ypg8p")

[node name="Foreground Parallax" type="Parallax2D" parent="Parallax"]
visible = false
z_index = 1000
scroll_scale = Vector2(1.3, 1.3)

[node name="Sprite2D" type="Sprite2D" parent="Parallax/Foreground Parallax"]
z_index = 1000
z_as_relative = false
position = Vector2(195, -327)
scale = Vector2(1.3, 1.3)
texture = ExtResource("12_wggoc")

[node name="PlanktonsBg1" type="Node2D" parent="."]
modulate = Color(1, 1, 1, 0.184314)
z_index = -250
z_as_relative = false
position = Vector2(-714, -83)

[node name="PlanktonsBg2" type="Node2D" parent="."]
modulate = Color(1, 1, 1, 0.909804)
z_index = -249
z_as_relative = false
position = Vector2(-714, -83)

[node name="PlanktonsBg3" type="Node2D" parent="."]
modulate = Color(1, 1, 1, 0.184314)
z_index = -248
z_as_relative = false
position = Vector2(-714, -83)

[node name="Environment" type="Node2D" parent="."]

[node name="BackgroundProps" type="Node2D" parent="Environment"]
z_index = -800
z_as_relative = false

[node name="SeaweedLeaves" parent="Environment/BackgroundProps" instance=ExtResource("4_44jrw")]
position = Vector2(-307, 373)
script = null

[node name="Seaweed" type="Sprite2D" parent="Environment/BackgroundProps"]
modulate = Color(0.780392, 0.780392, 0.176471, 1)
position = Vector2(-241, 324)
texture = ExtResource("5_35qt7")

[node name="Varech" type="Sprite2D" parent="Environment/BackgroundProps"]
modulate = Color(0.63966, 0.639744, 0.141547, 1)
z_as_relative = false
position = Vector2(-598, 360)
rotation = 3.14159
scale = Vector2(1, -1)
texture = ExtResource("6_s4tiy")

[node name="ForegroundProps" type="Node2D" parent="Environment"]
z_index = -200
z_as_relative = false

[node name="SeaweedLeaves2" parent="Environment/ForegroundProps" instance=ExtResource("4_44jrw")]
position = Vector2(-489, 348)
script = null

[node name="Varech2" type="Sprite2D" parent="Environment/ForegroundProps"]
modulate = Color(0.780392, 0.780392, 0.176471, 1)
z_as_relative = false
position = Vector2(-560, 385)
texture = ExtResource("5_35qt7")

[node name="NavigableMap" type="Node2D" parent="Environment"]
modulate = Color(0, 0.756863, 0.776471, 1)

[node name="Polygon2D" type="Polygon2D" parent="Environment/NavigableMap"]
polygon = PackedVector2Array(-332, -808, 535, -592, 916, -501, 922, -1302, -1528, -1310, -1541, 986, 921, 994, 922, -83, 557, -77, 336, 175, 37, 274, -70, 466, -464, 452, -642, -86, -708, -689)

[node name="PlanktonCave" type="Node2D" parent="Environment/NavigableMap"]
scale = Vector2(0.5, 0.5)

[node name="LargeC" parent="Environment/NavigableMap/PlanktonCave" instance=ExtResource("8_khk7t")]
position = Vector2(-1200, 286)

[node name="MediumA" parent="Environment/NavigableMap/PlanktonCave" instance=ExtResource("9_mua36")]
position = Vector2(-342, 982)
rotation = 1.52905

[node name="CurveA" parent="Environment/NavigableMap/PlanktonCave" instance=ExtResource("10_ycddo")]
position = Vector2(-1000, 714)
rotation = 1.26368

[node name="SmallA" parent="Environment/NavigableMap/PlanktonCave" instance=ExtResource("11_km3yp")]
position = Vector2(-182, 378)
rotation = -3.35297

[node name="SmallB" parent="Environment/NavigableMap/PlanktonCave" instance=ExtResource("12_ah3xm")]
position = Vector2(-8, 658)
rotation = 3.35334

[node name="AnchovyCave" type="Node2D" parent="Environment/NavigableMap"]
scale = Vector2(0.75, 0.75)

[node name="MediumB" parent="Environment/NavigableMap/AnchovyCave" instance=ExtResource("13_vbqx5")]
position = Vector2(-840, -50.6667)
rotation = -0.540315

[node name="SmallA3" parent="Environment/NavigableMap/AnchovyCave" instance=ExtResource("11_km3yp")]
position = Vector2(-829.333, -462.667)
rotation = -6.8709

[node name="PufferCave" type="Node2D" parent="Environment/NavigableMap"]
scale = Vector2(0.75, 0.75)

[node name="CurveA2" parent="Environment/NavigableMap/PufferCave" instance=ExtResource("10_ycddo")]
position = Vector2(-829.333, -932)
rotation = 2.35421

[node name="LargeB" parent="Environment/NavigableMap/PufferCave" instance=ExtResource("15_536sj")]
position = Vector2(140, -1001.33)
rotation = 0.202597

[node name="SpireA" parent="Environment/NavigableMap/PufferCave" instance=ExtResource("16_50ag4")]
position = Vector2(-688, -964)

[node name="SpireB" parent="Environment/NavigableMap/PufferCave" instance=ExtResource("17_1t5df")]
position = Vector2(-242.667, -1189.33)

[node name="EelCave" type="Node2D" parent="Environment/NavigableMap"]
scale = Vector2(0.75, 0.75)

[node name="MediumB2" parent="Environment/NavigableMap/EelCave" instance=ExtResource("13_vbqx5")]
position = Vector2(3.99999, -472)
rotation = -1.80769

[node name="LargeA" parent="Environment/NavigableMap/EelCave" instance=ExtResource("14_ucd0q")]
position = Vector2(416, 293.333)
rotation = -2.94799

[node name="MediumB3" parent="Environment/NavigableMap/EelCave" instance=ExtResource("13_vbqx5")]
position = Vector2(564, -21.3333)
rotation = 0.68043

[node name="SmallA4" parent="Environment/NavigableMap/EelCave" instance=ExtResource("11_km3yp")]
position = Vector2(-118.667, -229.333)
rotation = 3.04232

[node name="MediumA2" parent="Environment/NavigableMap/EelCave" instance=ExtResource("9_mua36")]
position = Vector2(1154.67, -660)
rotation = 4.73143

[node name="MediumA3" parent="Environment/NavigableMap/EelCave" instance=ExtResource("9_mua36")]
position = Vector2(1178.67, -209.333)
rotation = 10.9745

[node name="Opening" type="Node2D" parent="." node_paths=PackedStringArray("plankton_bgs")]
position = Vector2(-714, -83)
script = ExtResource("17_shtic")
plankton_bgs = [NodePath("../PlanktonsBg1"), NodePath("../PlanktonsBg2"), NodePath("../PlanktonsBg3")]

[node name="BlackBackground" type="Polygon2D" parent="Opening"]
z_index = -850
z_as_relative = false
color = Color(0, 0, 0, 1)
polygon = PackedVector2Array(-53, -26, 1145, -64, 1136, 830, -53, 887)

[node name="Shadow" type="PointLight2D" parent="Opening"]
position = Vector2(495, -35.0001)
scale = Vector2(-764.374, 717.298)
blend_mode = 2
texture = SubResource("GradientTexture2D_i4a12")

[node name="PlanktonPath" type="Path2D" parent="Opening"]
curve = SubResource("Curve2D_5docd")

[node name="PlanktonPathFollow" type="PathFollow2D" parent="Opening/PlanktonPath"]
position = Vector2(361, 339)
rotates = false
cubic_interp = false
loop = false

[node name="PlayerPlankton" parent="Opening/PlanktonPath/PlanktonPathFollow" instance=ExtResource("20_2o6hp")]
unique_name_in_owner = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="Opening"]
libraries = {
"": SubResource("AnimationLibrary_o0wly")
}
autoplay = "opening"

[node name="Camera2D" type="Camera2D" parent="Opening"]
position = Vector2(512, 384)

[node name="RunePath" type="Path2D" parent="Opening"]
position = Vector2(503, 124)
curve = SubResource("Curve2D_glsyj")

[node name="RunePathFollow" type="PathFollow2D" parent="Opening/RunePath"]
position = Vector2(-5, -214)
rotates = false
loop = false

[node name="Rune" type="Sprite2D" parent="Opening/RunePath/RunePathFollow"]
z_index = -799
material = SubResource("ShaderMaterial_1dnan")
scale = Vector2(0.28125, 0.28125)
texture = ExtResource("19_ahhh6")

[node name="RuneLight" type="PointLight2D" parent="Opening/RunePath/RunePathFollow/Rune"]
position = Vector2(3.55558, 0.00012207)
scale = Vector2(7.21993, 7.21993)
texture = SubResource("GradientTexture2D_hb72l")

[node name="PlanktonsForeground" type="Node2D" parent="Opening"]
z_index = 50
z_as_relative = false
position = Vector2(0, -3.05176e-05)
